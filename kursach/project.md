### <p align="center"> Министерство образования, науки и молодежной политики Республики Коми

### <p align="center"> ГПОУ «Сыктывкарский политехнический техникум»

## <p align="center"> Курсовая работа

## <p align="center"> тема: Разработка базы данных для домашней библиотеки </p>

#### <p align="right"> выполнила

 <p align="right">студентка 4 курса

<p align="right">414 группы

<p align="right">Егорова Юлия Викторовна

#### <p align="right">проверил

<p align="right">Пунгин И.В.

<p align="right">дата проверки:

<p align="center">Сыктывкар, 2025 г.

***

## <p align="center"> Введение

### Актуальность темы 

По данным исследования ВЦИОМ, большинство россиян (87%) имеют домашние библиотеки. Эти коллекции зачастую состоят из научной и художественной литературы. При этом размер этих библиотек варьируется: у половины семей (50%) они насчитывают до 100 книг. Коллекции объёмом от 100 до 300 книг встречаются у 21% опрошенных. Более обширные собрания имеются у 18% респондентов, среди которых 9% владеют 300-500 книгами, 5% — 500-1000, и 4% — свыше тысячи книг. Отсутствие книг дома отмечено у 11% россиян.

Владельцы таких библиотек активно взаимодействуют, обмениваясь изданиями и организуя литературные клубы. В контексте такого обмена или личного пользования возникает необходимость в систематизированном учёте книг. Традиционные методы учёта, такие как ведение записей на бумаге, становятся неэффективными при значительном объёме коллекции, а также затрудняют получение общей статистики и поиск информации.

Именно для решения этих задач актуальной становится разработка базы данных (БД) для домашней библиотеки. Она предназначена для автоматизации учёта состояния, местонахождения и выдачи книг, что особенно важно для редких или лично ценных экземпляров. Кроме того, такая система позволяет эффективно управлять коллекциями, включающими собственные авторские произведения или сборники. Использование БД обеспечивает лёгкий доступ к информации, упрощает инвентаризацию и аналитику.

### Цель работы

Проектирование и реализация реляционной базы данных для комплексного учёта домашней библиотеки с интегрированной системой возрастных ограничений, а также специальных пометок в соответствии с законодательством РФ. Системное управление книжным домашним фондом, которое должно быть эффективным и понятным для гостя и администратора БД.

### Задачи работы

#### 1. Анализ предметной области и формирование требований к базе данных

1.1. Провести исследование особенностей домашних библиотек как объекта автоматизации, выделить ключевые сущности и атрибуты (учёт книг, выдача, возврат, контроль состояния).

1.2. Изучить законодательные требования Федерального закона №436-ФЗ "О защите детей от информации" и определить механизмы их технической реализации в БД (система возрастных рейтингов 0+, 6+, 12+, 16+, 18+).

#### 2. Проектирование архитектуры и моделей базы данных

2.1. Разработать модель-схему в виде ER-диаграммы, отображающую сущности предметной области (Книга, Автор, Экземпляр, Пользователь, Местоположение и другие) и связи между ними.

2.2. Спроектировать логическую модель реляционной базы данных, а именно преобразование ER-диаграммы в схему таблиц, определение типов данных для полей, установление первичных и внешних ключей.

2.3. Создать физическую модель для СУБД PostgreSQL, определив стратегии индексирования, секционирования, хранения данных и оптимизации производительности.

#### 3. Разработка и реализация структуры базы данных в СУБД PostgreSQL

3.1. Реализовать DDL-скрипты для создания всех таблиц базы данных с использованием современных возможностей PostgreSQL.

3.2. Спроектировать модель ролевого доступа (RBAC) с тремя уровнями привилегий: Администратор (полный доступ), Библиотекарь (операции с книгами и выдачей), Гость (только чтение справочной информации).

3.3. Настроить систему аудита и протоколирования всех значимых событий в отдельной таблице журнала (логирование выдачи/возврата, попыток нарушения доступа, изменений данных администратором).

#### 4. Тестирование и подготовка документации

4.1. Провести комплексное тестирование базы данных: функциональное тестирование всех разработанных процедур и триггеров, тестирование ключевых запросов, тестирование на корректность работы ограничений целостности и других команд, отвечающих за корректную работу базы данных.

4.2. Подготовить демонстрационные данные и сценарии использования, наглядно показывающие работу всех функций БД, включая работу системы возрастных ограничений и механизмов безопасности.

## <p align="center"> Теоретические основы

Обзор используемого программного обеспечения для разработки БД для домашней библиотеки. В данном разделе рассматриваются основные условия, в которых разрабатывается БД, а также нюансы использования СУБД PostgreSQL для проектирования, разработки и практического применения БД.

### 1. Операционная система Windows 11

Windows 11 — это современная ОС на базе гибридного ядра Windows NT, разработанная компанией Microsoft для персональных компьютеров, рабочих станций и серверов. Архитектура Windows 11 оптимизирована для разработки и развёртывания сложных приложений, включая системы управления базами данных.

### 2. СУБД PostgreSQL

#### 2.1. Структурирование, организация данных и принцип работы

PostgreSQL предоставляет упорядоченные механизмы для создания и управления структурированными базами данных. Система позволяет проектировать сложные модели данных через систему таблиц, где каждая таблица представляет собой отдельную сущность предметной области (например, "Книга", "Автор", "Читатель").

Таблицы состоят из столбцов с заранее определёнными типами данных (текст, числа, даты), что обеспечивает строгую типизацию и предотвращает ошибки при вводе информации. Связи между таблицами устанавливаются через механизмы внешних ключей, создавая единую целостную структуру.

#### 2.2. Обеспечение целостности данных

Одной из ключевых возможностей PostgreSQL является встроенная система ограничений целостности. Разработчик может определить:

2.2.1. **Первичные ключи** для уникальной идентификации каждой записи;

2.2.2. **Внешние ключи** для поддержания ссылочной целостности между таблицами;

2.2.3. **CHECK-ограничения** для проверки значений на соответствие бизнес-правилам (например, год издания не может быть больше текущего года);

2.2.4. **UNIQUE-ограничения** для предотвращения дублирования данных.

Эти механизмы работают на уровне ядра СУБД, гарантируя, что в базе данных не появятся некорректные или противоречивые записи.

#### 2.3. Система безопасности и контроля доступа

Безопасность данных обеспечивается многоуровневой системой:

2.3.1. **Аутентификация пользователей** через различные методы (пароль, SSL-сертификаты);

2.3.2. **Авторизация** через систему привилегий GRANT/REVOKE на уровне объектов базы данных;

2.3.3. **Безопасность на уровне строк (RLS)**, позволяющая ограничивать доступ к отдельным записям в таблице;

2.3.4. **Аудит и журналирование** всех значимых событий в системе;

2.3.5. **Шифрование соединений** через SSL/TLS для защиты передаваемых данных.

#### 2.4. Расширяемость и автоматизация бизнес-процессов

PostgreSQL поддерживает создание собственной бизнес-логики:

2.4.1. **Хранимые процедуры и функции** на языке pgSQL для реализации сложных алгоритмов;

2.4.2. **Триггеры** — автоматически выполняемые процедуры при наступлении определённых событий (вставка, обновление, удаление);

2.4.3. **Планировщик заданий pg_cron** для выполнения периодических операций;

2.4.4. **Расширения (extensions)** для добавления новой функциональности (геопространственные данные, полнотекстовый поиск и др.).

### 3.Графический клиент-приложение pgAdmin 4

 PgAdmin4 — это веб-приложение с открытым исходным кодом для управления и администрирования баз данных PostgreSQL. Данная модификация предоставляет удобный интерфейс для выполнения SQL-запросов, управления объектами базы данных, мониторинга производительности и многого другого.

#### 3.1. Визуальное проектирование и моделирование данных

3.1.1. **Графический конструктор таблиц** с возможностью определения типов данных, ограничений и значений по умолчанию;

3.1.2. **Редактор ER-диаграмм** для визуального отображения связей между сущностями;

3.1.3. **Мастер создания внешних ключей** с автоматической генерацией соответствующих SQL-команд;

3.1.4. **Инструменты для создания диаграмм** из существующих баз данных;

#### 3.2. Работа с содержимым базы данных

3.2.1. **Табличный редактор** данных, с поддержкой вставки, редактирования и удаления и связки записей;

3.2.2. **Импорт данных** из CSV, Excel и других форматов через графический интерфейс;

3.2.3. **Визуальный конструктор запросов Query Tool** для построения SQL-запросов без написания кода.

## <p align = "center"> Создание требований к архитектуре БД домашней библиотеки 
Для начала работы необходимо теоретически проанализировать ежедневную работу домашних, а также государственных и частных библиотек, найти литературу и статьи о их работе, принципах ведения учёта и выдачи книг. Изучить нормативно-правовую базу, чтобы не нарушить законодательство Российской Федерации при некоторых аспектах. 

Типичные операции, которые выполняются при управлении личным книжным фондом: от простой каталогизации новых поступлений до сложных процессов отслеживания выданных книг и контроля их состояния, становятся неэффективными уже при коллекции в 100-150 книг, вызывая трудности с поиском, дублированием записей и получением общей статистики. Также были изучены потребности в автоматизации рутинных процессов: автоматической проверке возрастных ограничений при выдаче книг детям, напоминаниях о возврате, ведении истории состояния экземпляров и генерации отчётов о наиболее популярных книгах. Этот анализ позволил выделить ключевые функции, которые действительно необходимы пользователям, и отсечь избыточные возможности, усложняющие систему.
Важнейшим аспектом формирования требований стало изучение законодательных актов, регулирующих обращение печатной продукции в Российской Федерации. Центральное место занял Федеральный закон №436-ФЗ "О защите детей от информации, причиняющей вред их здоровью и развитию", который устанавливает обязательную возрастную маркировку для всех видов контента, включая книги. В соответствии с этим законом, все книги должны классифицироваться по возрастным категориям: 0+, 6+, 12+, 16+, 18+. Система обязана выдавать дополнительное уведомление для выдающего о проверки соответствия возраста читателя и возрастного рейтинга книги при каждой выдаче, а также вести журнал таких проверок. Дополнительно были учтены правовые аспекты учёта авторских прав — система должна позволять отмечать информацию об авторах, включая их статус (отечественный/зарубежный, с указанием на особые правовые статусы, такие как "иностранный агент"). Эти требования обеспечивают не только функциональность системы, но и её юридическую корректность при использовании в российских реалиях.

Требования к системе разрабатывались с учётом реальных технических условий, в которых будет эксплуатироваться база данных. Был проведён анализ характеристик типовых домашних компьютеров — большинство пользователей имеют ПК с 4-8 ГБ оперативной памяти, процессорами среднего класса и обычными жёсткими дисками или SSD-накопителями. Это определило требования к производительности: система должна работать стабильно на таком оборудовании даже при каталоге в несколько тысяч книг. Оценка возможностей современных систем управления базами данных, в частности PostgreSQL, позволила заложить в требования продвинутые функции: сложные ограничения целостности, триггеры для автоматической проверки бизнес-правил, механизмы полнотекстового поиска и систему ролевого доступа. Также были учтены требования к простоте развёртывания — система должна устанавливаться на стандартную Windows без необходимости сложной настройки серверного окружения, что соответствует возможностям типичного домашнего пользователя.

#### После анализа можно сделать выводы по необходимому функционалу БД для домашней библиотеки:

- *Гибкость и расширяемость*

Система должна поддерживать различные типы данных о книгах, включая основные характеристики, состояние экземпляров и возрастные рейтинги. Важна возможность лёгкого добавления новых полей и категорий без перестройки всей структуры. Поиск должен работать по множеству критериев: автор, жанр, год издания, особый статус, наличие.
	
- *Доступность и экономичность*

Использование бесплатной СУБД PostgreSQL. Работа на стандартном домашнем компьютере без специального оборудования. Бесплатное использование всех основных функций. 

- *Правовое соответствие*

База данных должна обеспечивать соблюдение Федерального закона №436-ФЗ через обязательную возрастную маркировку книг (0+, 6+, 12+, 16+, 18+) с автоматической блокировкой выдачи при нарушении возрастных ограничений. Система обязана вести журнал нарушений и поддерживать отметки об особых статусах авторов. Все операции должны быть защищены от несанкционированного доступа с возможностью аудита на соответствие законодательству РФ.

- *Разграничение прав доступа*

База данных реализует трёхуровневую систему контроля доступа, разделяя пользователей на администраторов (полные права), библиотекарей (выдача/возврат книг, пополнение фонда) и гостей (только чтение каталога). Для каждого уровня устанавливаются чёткие права на операции с данными, предотвращая несанкционированные изменения. Система поддерживает безопасность на уровне строк, ограничивая доступ к персональным данным читателей. Аудит всех действий обеспечивает отслеживание операций каждого пользователя, гарантируя ответственность за изменения в книжном фонде и прозрачность управления библиотекой.

- *Гибкость и расширяемость системы*

База данных предоставляет гибкие механизмы каталогизации, позволяющие легко добавлять новые жанры, категории и подкатегории без изменения структуры таблиц. Система поддерживает неограниченное добавление книг, авторов и издательств с возможностью множественной классификации каждого издания. 

- *Учёт выдачи и возврата книг*

Система обеспечивает полный контроль движения книг через автоматическую регистрацию каждой операции выдачи и возврата. Для каждой выдачи фиксируется: кто взял книгу (читатель), какой именно экземпляр (с уникальным инвентарным номером), дата выдачи и плановый срок возврата. База данных автоматически отслеживает просроченные выдачи и генерирует уведомления. Ведётся полная история всех операций с книгами, позволяющая анализировать читательскую активность, определять самые популярные издания и контролировать состояние фонда.

- *Статистика и аналитика*

Автоматическое формирование отчётов: самые читаемые книги, активность читателей по периодам, распределение по жанрам. Анализ возрастных предпочтений и рекомендации для пополнения фонда. Расчёт статистических показателей (среднее время чтения, процент прочитанных книг).

- *Контроль состояния книг и условий хранения*

Система должна вести учёт физического состояния каждого экземпляра (отличное, хорошее, удовлетворительное, требует реставрации, утеряно) с историей изменений. 
